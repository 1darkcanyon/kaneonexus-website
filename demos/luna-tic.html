<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LUNA-TIC ‚Äî Emotional Lunar Forecasting</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root{
  --cyan:#16c79a;--teal:#11698e;--dark:#050d0a;--mid:#0a1f1a;
  --card:#0d2420;--glow:rgba(22,199,154,0.25);--dim:rgba(22,199,154,0.06);
  --gold:#f0c060;--purple:#7c5cbf;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--dark);color:#b0ffe8;font-family:'Rajdhani',sans-serif;min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;z-index:0;
  background-image:linear-gradient(rgba(22,199,154,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(22,199,154,0.03) 1px,transparent 1px);
  background-size:60px 60px;pointer-events:none;}

.wrap{position:relative;z-index:1;max-width:1100px;margin:0 auto;padding:32px 24px;}

/* Nav */
.nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:40px;}
.back{font-family:'Share Tech Mono',monospace;font-size:0.75rem;color:var(--cyan);
  text-decoration:none;opacity:0.7;transition:opacity 0.2s;}
.back:hover{opacity:1;}
.nav-title{font-family:'Orbitron',monospace;font-size:0.8rem;letter-spacing:0.2em;color:rgba(22,199,154,0.4);}

/* Moon canvas */
.moon-section{display:flex;flex-direction:column;align-items:center;margin-bottom:48px;}
canvas#moonCanvas{filter:drop-shadow(0 0 30px rgba(22,199,154,0.4));}
.moon-label{font-family:'Orbitron',monospace;font-size:1.1rem;color:var(--cyan);margin-top:16px;letter-spacing:0.15em;}
.moon-detail{font-family:'Share Tech Mono',monospace;font-size:0.75rem;color:rgba(22,199,154,0.5);margin-top:6px;}

/* Date picker */
.date-row{display:flex;align-items:center;gap:16px;justify-content:center;margin-bottom:40px;}
.date-row input[type=date]{
  background:var(--card);border:1px solid rgba(22,199,154,0.3);border-radius:8px;
  color:var(--cyan);font-family:'Share Tech Mono',monospace;font-size:0.85rem;
  padding:10px 16px;outline:none;cursor:pointer;
}
.date-row input[type=date]:focus{border-color:var(--cyan);}
.btn{
  background:transparent;border:1px solid var(--cyan);color:var(--cyan);
  font-family:'Orbitron',monospace;font-size:0.7rem;letter-spacing:0.15em;
  padding:10px 20px;border-radius:8px;cursor:pointer;transition:all 0.2s;
}
.btn:hover{background:var(--dim);}

/* Forecast grid */
.forecast-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:40px;}
.f-card{
  background:var(--card);border:1px solid rgba(22,199,154,0.15);border-radius:14px;padding:24px;
  position:relative;overflow:hidden;
}
.f-card::after{
  content:'';position:absolute;top:0;left:0;right:0;height:3px;
  background:linear-gradient(90deg,transparent,var(--grad-color,var(--cyan)),transparent);
}
.f-icon{font-size:2rem;margin-bottom:12px;}
.f-label{font-family:'Share Tech Mono',monospace;font-size:0.65rem;letter-spacing:0.2em;color:var(--cyan);opacity:0.6;margin-bottom:6px;}
.f-title{font-family:'Orbitron',monospace;font-size:0.9rem;color:#e0fff5;margin-bottom:8px;}
.f-text{font-size:0.88rem;color:rgba(176,255,232,0.6);line-height:1.6;}

/* Meter */
.meter-row{display:flex;align-items:center;gap:12px;margin-top:12px;}
.meter-bar{flex:1;height:4px;background:rgba(22,199,154,0.1);border-radius:2px;overflow:hidden;}
.meter-fill{height:100%;border-radius:2px;background:linear-gradient(90deg,var(--teal),var(--cyan));transition:width 1s ease;}
.meter-val{font-family:'Orbitron',monospace;font-size:0.75rem;color:var(--cyan);min-width:36px;text-align:right;}

/* Week strip */
.week-title{font-family:'Orbitron',monospace;font-size:0.75rem;letter-spacing:0.2em;color:rgba(22,199,154,0.5);margin-bottom:16px;}
.week-strip{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-bottom:48px;}
.day-cell{
  background:var(--card);border:1px solid rgba(22,199,154,0.1);border-radius:10px;
  padding:12px 8px;text-align:center;cursor:pointer;transition:border-color 0.2s;
}
.day-cell:hover,.day-cell.active{border-color:var(--cyan);}
.day-cell.active{background:var(--dim);}
.day-name{font-family:'Share Tech Mono',monospace;font-size:0.6rem;color:rgba(22,199,154,0.5);margin-bottom:8px;}
.day-moon{font-size:1.4rem;}
.day-energy{display:block;width:30px;height:2px;border-radius:1px;background:var(--cyan);margin:6px auto 0;opacity:0.5;}

/* Tarot pull */
.tarot-section{background:var(--card);border:1px solid rgba(22,199,154,0.15);border-radius:16px;padding:32px;text-align:center;}
.tarot-card-wrap{perspective:800px;display:inline-block;margin:24px 0;cursor:pointer;}
.tarot-card{
  width:140px;height:240px;position:relative;transform-style:preserve-3d;
  transition:transform 0.8s;
}
.tarot-card.flipped{transform:rotateY(180deg);}
.tarot-face,.tarot-back{
  position:absolute;inset:0;border-radius:12px;backface-visibility:hidden;
  display:flex;align-items:center;justify-content:center;flex-direction:column;gap:8px;
  border:1px solid rgba(22,199,154,0.3);
}
.tarot-back{background:linear-gradient(135deg,#0a2020,#0d3030);}
.tarot-back-pattern{font-size:3rem;opacity:0.4;}
.tarot-face{background:linear-gradient(135deg,#0d2420,#1a3a30);transform:rotateY(180deg);}
.tarot-symbol{font-size:2.5rem;}
.tarot-name{font-family:'Orbitron',monospace;font-size:0.6rem;letter-spacing:0.15em;color:var(--gold);}
#tarot-reading{font-size:0.9rem;color:rgba(176,255,232,0.65);line-height:1.7;max-width:500px;margin:0 auto;}

footer{text-align:center;padding:40px 0 24px;font-family:'Share Tech Mono',monospace;font-size:0.7rem;color:rgba(22,199,154,0.2);}
</style>
</head>
<body>
<div class="wrap">
  <nav class="nav">
    <a class="back" href="index.html">‚Üê NEXUS HUB</a>
    <span class="nav-title">üåô LUNA-TIC v1.0</span>
    <span style="font-family:'Share Tech Mono',monospace;font-size:0.7rem;color:rgba(22,199,154,0.3);" id="live-date"></span>
  </nav>

  <!-- Moon Render -->
  <div class="moon-section">
    <canvas id="moonCanvas" width="220" height="220"></canvas>
    <div class="moon-label" id="phase-name">WAXING GIBBOUS</div>
    <div class="moon-detail" id="phase-detail">76% ILLUMINATED ¬∑ DAY 11 OF CYCLE</div>
  </div>

  <!-- Date picker -->
  <div class="date-row">
    <input type="date" id="datePicker">
    <button class="btn" onclick="runForecast()">RUN FORECAST</button>
    <button class="btn" onclick="resetToday()">TODAY</button>
  </div>

  <!-- Forecast Cards -->
  <div class="forecast-grid">
    <div class="f-card" style="--grad-color:#16c79a;">
      <div class="f-icon">üíß</div>
      <div class="f-label">// EMOTIONAL TIDE</div>
      <div class="f-title" id="tide-title">RISING ENERGY</div>
      <div class="f-text" id="tide-text">The waxing moon amplifies your emotional bandwidth. Intuition is heightened. This is a prime window for creative work and meaningful connection.</div>
      <div class="meter-row">
        <div class="meter-bar"><div class="meter-fill" id="tide-meter" style="width:76%"></div></div>
        <div class="meter-val" id="tide-val">76%</div>
      </div>
    </div>
    <div class="f-card" style="--grad-color:#7c5cbf;">
      <div class="f-icon">üîÆ</div>
      <div class="f-label">// INTUITION INDEX</div>
      <div class="f-title" id="intuition-title">ENHANCED</div>
      <div class="f-text" id="intuition-text">Lunar proximity increases your sensitivity to subtle energies. Trust first impressions today. Your pattern recognition is operating at peak frequency.</div>
      <div class="meter-row">
        <div class="meter-bar"><div class="meter-fill" id="int-meter" style="width:82%"></div></div>
        <div class="meter-val" id="int-val">82%</div>
      </div>
    </div>
    <div class="f-card" style="--grad-color:#f0c060;">
      <div class="f-icon">‚ö°</div>
      <div class="f-label">// ACTION POTENTIAL</div>
      <div class="f-title" id="action-title">STRONG MOMENTUM</div>
      <div class="f-text" id="action-text">The gravitational pull supports outward action. Initiate projects, make contact, build systems. Energy flows toward manifestation under this moon.</div>
      <div class="meter-row">
        <div class="meter-bar"><div class="meter-fill" id="act-meter" style="width:71%"></div></div>
        <div class="meter-val" id="act-val">71%</div>
      </div>
    </div>
    <div class="f-card" style="--grad-color:#16c79a;">
      <div class="f-icon">üå±</div>
      <div class="f-label">// HEALING RESONANCE</div>
      <div class="f-title" id="heal-title">OPEN CHANNEL</div>
      <div class="f-text" id="heal-text">Ancestral pathways are accessible. Journaling and reflection deepen roots. The MoonPath is calling you inward for integration before the peak.</div>
      <div class="meter-row">
        <div class="meter-bar"><div class="meter-fill" id="heal-meter" style="width:68%"></div></div>
        <div class="meter-val" id="heal-val">68%</div>
      </div>
    </div>
  </div>

  <!-- Week strip -->
  <div class="week-title">// 7-DAY LUNAR CALENDAR</div>
  <div class="week-strip" id="weekStrip"></div>

  <!-- Tarot pull -->
  <div class="tarot-section">
    <div class="week-title">// DAILY CARTOMANTIC PULL</div>
    <p style="font-size:0.85rem;color:rgba(176,255,232,0.5);">Tap the card to reveal your lunar guidance</p>
    <div class="tarot-card-wrap" onclick="flipCard()">
      <div class="tarot-card" id="tarotCard">
        <div class="tarot-back">
          <div class="tarot-back-pattern">üåô</div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:0.6rem;color:rgba(22,199,154,0.4);">TAP TO REVEAL</div>
        </div>
        <div class="tarot-face">
          <div class="tarot-symbol" id="tarot-symbol">üåï</div>
          <div class="tarot-name" id="tarot-name">THE MOON</div>
        </div>
      </div>
    </div>
    <p id="tarot-reading">The Moon calls you to trust what cannot yet be seen. Your deepest knowing lives beneath the surface of conscious thought. Let the tide carry what needs to surface.</p>
  </div>

  <footer>LUNA-TIC ¬∑ NEXUS INTEGRATED INTELLIGENCE SOLUTIONS ¬∑ CANYON (KANEON)</footer>
</div>

<script>
// Moon canvas
const c = document.getElementById('moonCanvas');
const ctx = c.getContext('2d');

function getMoonData(date){
  const known = new Date('2000-01-06');
  const diff = (date - known)/(1000*60*60*24);
  const cycle = ((diff % 29.53)+29.53)%29.53;
  const illum = Math.round(50*(1-Math.cos(cycle/29.53*Math.PI*2)));
  const phaseNames=['New Moon','Waxing Crescent','First Quarter','Waxing Gibbous','Full Moon','Waning Gibbous','Last Quarter','Waning Crescent'];
  const idx = Math.floor(cycle/29.53*8)%8;
  return {cycle, illum, day:Math.round(cycle), name:phaseNames[idx], idx};
}

function drawMoon(data){
  ctx.clearRect(0,0,220,220);
  const cx=110,cy=110,r=90;
  // Glow
  const grd=ctx.createRadialGradient(cx,cy,r*0.5,cx,cy,r*1.4);
  grd.addColorStop(0,'rgba(22,199,154,0.08)');
  grd.addColorStop(1,'transparent');
  ctx.fillStyle=grd; ctx.fillRect(0,0,220,220);

  ctx.save();
  ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2); ctx.clip();

  // Base
  const moonGrd=ctx.createRadialGradient(cx-20,cy-20,10,cx,cy,r);
  moonGrd.addColorStop(0,'#e8e8d0');
  moonGrd.addColorStop(0.6,'#c0c0a0');
  moonGrd.addColorStop(1,'#808070');
  ctx.fillStyle=moonGrd; ctx.fillRect(0,0,220,220);

  // Craters
  [[90,80,12],[130,110,8],[75,130,15],[145,70,6],[100,150,10]].forEach(([x,y,rad])=>{
    ctx.beginPath(); ctx.arc(x,y,rad,0,Math.PI*2);
    ctx.fillStyle='rgba(80,80,60,0.15)'; ctx.fill();
    ctx.strokeStyle='rgba(60,60,40,0.2)'; ctx.lineWidth=1; ctx.stroke();
  });

  // Shadow overlay based on phase
  const cycle = data.cycle/29.53;
  ctx.globalCompositeOperation='source-atop';
  if(data.idx !== 4){ // not full
    const shadowX = cx + (cycle<0.5 ? r*0.6 : -r*0.6);
    const shadowGrd=ctx.createRadialGradient(shadowX,cy,r*0.1,shadowX,cy,r*1.5);
    shadowGrd.addColorStop(0,'rgba(5,13,10,0.95)');
    shadowGrd.addColorStop(0.5,'rgba(5,13,10,0.8)');
    shadowGrd.addColorStop(1,'transparent');
    ctx.fillStyle=shadowGrd;
    const coverage = Math.abs(0.5-cycle)/0.5;
    if(data.idx===0) { ctx.fillStyle='rgba(5,13,10,0.97)'; ctx.fillRect(0,0,220,220); }
    else {
      ctx.fillRect(0,0,220,220);
      // lighten visible portion
      ctx.globalCompositeOperation='destination-out';
      const litX = cycle < 0.5 ? cx - r*(1-data.illum/50) : cx + r*(1-data.illum/50);
      const litGrd=ctx.createRadialGradient(litX,cy,0,litX,cy,r);
      litGrd.addColorStop(0,'rgba(0,0,0,0.9)');
      litGrd.addColorStop(1,'rgba(0,0,0,0)');
      ctx.fillStyle=litGrd; ctx.fillRect(0,0,220,220);
    }
  }

  ctx.restore();

  // Ring
  ctx.beginPath(); ctx.arc(cx,cy,r+2,0,Math.PI*2);
  ctx.strokeStyle='rgba(22,199,154,0.4)'; ctx.lineWidth=1.5; ctx.stroke();
  // Outer glow ring
  ctx.beginPath(); ctx.arc(cx,cy,r+8,0,Math.PI*2);
  ctx.strokeStyle='rgba(22,199,154,0.1)'; ctx.lineWidth=4; ctx.stroke();
}

const moonEmojis=['üåë','üåí','üåì','üåî','üåï','üåñ','üåó','üåò'];

function buildWeek(){
  const strip=document.getElementById('weekStrip');
  strip.innerHTML='';
  const today=new Date();
  const days=['SUN','MON','TUE','WED','THU','FRI','SAT'];
  for(let i=-3;i<=3;i++){
    const d=new Date(today); d.setDate(today.getDate()+i);
    const data=getMoonData(d);
    const cell=document.createElement('div');
    cell.className='day-cell'+(i===0?' active':'');
    cell.innerHTML=`<div class="day-name">${days[d.getDay()]}</div>
      <div class="day-moon">${moonEmojis[data.idx]}</div>
      <span class="day-energy" style="opacity:${data.illum/100}"></span>`;
    cell.onclick=()=>{
      document.querySelectorAll('.day-cell').forEach(x=>x.classList.remove('active'));
      cell.classList.add('active');
      document.getElementById('datePicker').value=d.toISOString().slice(0,10);
      updateForecast(d);
    };
    strip.appendChild(cell);
  }
}

const emotionalTides=[
  {t:'WITHDRAWAL PHASE',txt:'The new moon invites deep introspection. Internal processing is more valuable than external action right now. Rest, dream, and gather energy.'},
  {t:'EMERGING CURIOSITY',txt:'First light of the cycle awakens tentative exploration. Gentle conversations and small beginnings plant seeds that the growing moon will amplify.'},
  {t:'BUILDING MOMENTUM',txt:'Energy accelerates. Decision-making clarity improves. Take steps toward what you began at the new moon ‚Äî the current is now with you.'},
  {t:'RISING ENERGY',txt:'The waxing moon amplifies your emotional bandwidth. Intuition is heightened. This is a prime window for creative work and meaningful connection.'},
  {t:'PEAK ILLUMINATION',txt:'Full moon clarity reveals what has been building. Emotions reach maximum expression. Celebrate completions and release what no longer serves.'},
  {t:'INTEGRATION MODE',txt:'After the peak, wisdom settles. Review, refine, and internalize lessons. Deep conversations yield breakthrough understanding under the waning light.'},
  {t:'RELEASING HOLD',txt:'The waning moon supports letting go. Old patterns surface for clearing. Forgiveness work and ancestral healing have heightened effectiveness.'},
  {t:'DEEP REST',txt:'The balsamic moon asks you to surrender. Trust the void. Receive rather than seek. Your dreaming mind is doing important work below the surface.'}
];

function updateForecast(date){
  const data=getMoonData(date);
  drawMoon(data);
  document.getElementById('phase-name').textContent=data.name.toUpperCase();
  document.getElementById('phase-detail').textContent=`${data.illum}% ILLUMINATED ¬∑ DAY ${data.day} OF CYCLE`;

  const tide=emotionalTides[data.idx];
  document.getElementById('tide-title').textContent=tide.t;
  document.getElementById('tide-text').textContent=tide.txt;

  const t=data.illum, u=Math.min(100,t+6+Math.random()*10|0), v=Math.max(20,t-5+(Math.random()*10|0)), w=Math.max(20,t-10+(Math.random()*10|0));
  ['tide-meter','int-meter','act-meter','heal-meter'].forEach((id,i)=>{
    const val=[t,u,v,w][i];
    document.getElementById(id).style.width=val+'%';
    document.getElementById(['tide-val','int-val','act-val','heal-val'][i]).textContent=val+'%';
  });
}

function resetToday(){
  const t=new Date();
  document.getElementById('datePicker').value=t.toISOString().slice(0,10);
  updateForecast(t);
  buildWeek();
}

function runForecast(){
  const v=document.getElementById('datePicker').value;
  if(v) updateForecast(new Date(v+'T12:00:00'));
}

// Tarot
const tarotDeck=[
  {s:'üåï',n:'THE MOON',r:'The Moon calls you to trust what cannot yet be seen. Your deepest knowing lives beneath the surface. Let the tide carry what needs to surface.'},
  {s:'‚≠ê',n:'THE STAR',r:'Hope burns constant in the celestial field. You are held by forces larger than fear. Navigate by starlight when daylight blinds.'},
  {s:'‚òÄÔ∏è',n:'THE SUN',r:'Clarity arrives like dawn breaking. Your authentic self radiates outward with power. This is a day for truth, visibility, and joyful expression.'},
  {s:'‚ö°',n:'THE TOWER',r:'Structures that no longer serve collapse to make room for what is real. Disruption carries seeds of liberation. Trust the rubble.'},
  {s:'üåÄ',n:'THE WORLD',r:'Completion and wholeness. You have arrived at the culmination of a cycle. Honor how far you have traveled before taking the next step.'},
  {s:'üó°Ô∏è',n:'THE HIEROPHANT',r:'Ancient wisdom traditions offer guidance. Seek teachers, rituals, and containers that hold sacred knowledge for your path.'},
  {s:'üîÆ',n:'THE HIGH PRIESTESS',r:'Silence holds the answer. The interior realm is broadcasting clearly. Your intuition is your most reliable instrument today.'},
  {s:'üåä',n:'THE HANGED ONE',r:'Surrender brings perspective impossible from ordinary angles. Let go of the need to force outcomes. The pause is the teaching.'}
];
let cardFlipped=false;
function flipCard(){
  const card=document.getElementById('tarotCard');
  if(!cardFlipped){
    const pick=tarotDeck[Math.floor(Math.random()*tarotDeck.length)];
    document.getElementById('tarot-symbol').textContent=pick.s;
    document.getElementById('tarot-name').textContent=pick.n;
    document.getElementById('tarot-reading').textContent=pick.r;
    card.classList.add('flipped');
    cardFlipped=true;
  } else {
    card.classList.remove('flipped');
    cardFlipped=false;
  }
}

// Init
const today=new Date();
document.getElementById('datePicker').value=today.toISOString().slice(0,10);
document.getElementById('live-date').textContent=today.toDateString().toUpperCase();
updateForecast(today);
buildWeek();
</script>
</body>
</html>