<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEXUS Guardian Dashboard</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&family=Share+Tech+Mono&display=swap');

  :root {
    --bg: #050a18;
    --surface: #0a1428;
    --surface2: #0f1e3d;
    --cyan: #00d4ff;
    --cyan-dim: #0099bb;
    --gold: #ffd700;
    --red: #ff3355;
    --green: #00ff88;
    --purple: #8855ff;
    --text: #c8d8f0;
    --text-dim: #5a7090;
    --border: rgba(0,212,255,0.15);
    --glow: 0 0 20px rgba(0,212,255,0.3);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Rajdhani', sans-serif;
    font-size: 15px;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Background grid */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      linear-gradient(rgba(0,212,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  /* Header */
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(5,10,24,0.95);
    border-bottom: 1px solid var(--border);
    backdrop-filter: blur(20px);
    padding: 0 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 60px;
  }

  .logo {
    font-family: 'Orbitron', monospace;
    font-size: 1.2rem;
    font-weight: 900;
    color: var(--cyan);
    text-shadow: var(--glow);
    letter-spacing: 3px;
  }

  .logo span { color: var(--text-dim); font-weight: 400; font-size: 0.7rem; display: block; letter-spacing: 5px; margin-top: -4px; }

  .header-right {
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }

  .status-pill {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(0,255,136,0.1);
    border: 1px solid rgba(0,255,136,0.3);
    border-radius: 20px;
    padding: 4px 12px;
    font-size: 0.75rem;
    color: var(--green);
    font-family: 'Share Tech Mono', monospace;
  }

  .pulse-dot {
    width: 7px; height: 7px;
    border-radius: 50%;
    background: var(--green);
    animation: pulse 1.5s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(0,255,136,0.4); }
    50% { opacity: 0.7; box-shadow: 0 0 0 6px rgba(0,255,136,0); }
  }

  .points-badge {
    font-family: 'Orbitron', monospace;
    font-size: 0.8rem;
    color: var(--gold);
    background: rgba(255,215,0,0.1);
    border: 1px solid rgba(255,215,0,0.3);
    border-radius: 20px;
    padding: 4px 12px;
  }

  .back-btn {
    color: var(--text-dim);
    text-decoration: none;
    font-size: 0.8rem;
    letter-spacing: 2px;
    transition: color 0.2s;
  }
  .back-btn:hover { color: var(--cyan); }

  /* Tab Nav */
  .tab-nav {
    display: flex;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    overflow-x: auto;
    position: relative;
    z-index: 10;
    scrollbar-width: none;
  }
  .tab-nav::-webkit-scrollbar { display: none; }

  .tab-btn {
    padding: 1rem 1.5rem;
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    color: var(--text-dim);
    font-family: 'Rajdhani', sans-serif;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.25s;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .tab-btn:hover { color: var(--text); }

  .tab-btn.active {
    color: var(--cyan);
    border-bottom-color: var(--cyan);
    text-shadow: 0 0 10px rgba(0,212,255,0.5);
  }

  .tab-icon { font-size: 1rem; }

  /* Content */
  .content {
    position: relative;
    z-index: 1;
    max-width: 1400px;
    margin: 0 auto;
    padding: 1.5rem;
  }

  .tab-pane { display: none; animation: fadeIn 0.3s ease; }
  .tab-pane.active { display: block; }

  @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

  /* Cards */
  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.25rem;
    transition: border-color 0.2s;
  }
  .card:hover { border-color: rgba(0,212,255,0.3); }

  .card-title {
    font-family: 'Orbitron', monospace;
    font-size: 0.65rem;
    letter-spacing: 3px;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-bottom: 1rem;
  }

  .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
  .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
  .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; }

  @media (max-width: 768px) {
    .grid-3, .grid-4 { grid-template-columns: 1fr 1fr; }
    .grid-2 { grid-template-columns: 1fr; }
  }
  @media (max-width: 480px) {
    .grid-3, .grid-4 { grid-template-columns: 1fr; }
  }

  /* Stat display */
  .big-stat {
    font-family: 'Orbitron', monospace;
    font-size: 2.5rem;
    font-weight: 900;
    line-height: 1;
    color: var(--cyan);
    text-shadow: var(--glow);
  }

  .stat-label {
    font-size: 0.75rem;
    letter-spacing: 2px;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-top: 4px;
  }

  .stat-sub {
    font-size: 0.85rem;
    color: var(--text-dim);
    margin-top: 0.25rem;
  }

  /* Speed gauge */
  .speed-gauge {
    text-align: center;
    padding: 1rem 0;
  }

  .gauge-circle {
    width: 180px;
    height: 180px;
    margin: 0 auto 1rem;
    position: relative;
  }

  .gauge-circle svg {
    transform: rotate(-135deg);
    width: 100%;
    height: 100%;
  }

  .gauge-track {
    fill: none;
    stroke: rgba(0,212,255,0.1);
    stroke-width: 12;
  }

  .gauge-fill {
    fill: none;
    stroke: var(--cyan);
    stroke-width: 12;
    stroke-linecap: round;
    stroke-dasharray: 251;
    stroke-dashoffset: 251;
    filter: drop-shadow(0 0 8px rgba(0,212,255,0.6));
    transition: stroke-dashoffset 0.5s ease;
  }

  .gauge-center {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .gauge-number {
    font-family: 'Orbitron', monospace;
    font-size: 2.2rem;
    font-weight: 900;
    color: var(--cyan);
    text-shadow: var(--glow);
    line-height: 1;
  }

  .gauge-unit {
    font-size: 0.65rem;
    letter-spacing: 3px;
    color: var(--text-dim);
  }

  /* Alert banner */
  .alert {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    font-size: 0.85rem;
    margin-bottom: 0.75rem;
  }
  .alert-info { background: rgba(0,212,255,0.1); border: 1px solid rgba(0,212,255,0.3); color: var(--cyan); }
  .alert-warn { background: rgba(255,215,0,0.1); border: 1px solid rgba(255,215,0,0.3); color: var(--gold); }
  .alert-danger { background: rgba(255,51,85,0.1); border: 1px solid rgba(255,51,85,0.3); color: var(--red); }
  .alert-success { background: rgba(0,255,136,0.1); border: 1px solid rgba(0,255,136,0.3); color: var(--green); }

  /* Progress bar */
  .progress-bar {
    height: 6px;
    background: rgba(255,255,255,0.08);
    border-radius: 3px;
    overflow: hidden;
    margin-top: 0.5rem;
  }

  .progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.5s ease;
  }

  .fill-cyan { background: linear-gradient(90deg, var(--cyan-dim), var(--cyan)); box-shadow: 0 0 8px rgba(0,212,255,0.4); }
  .fill-green { background: linear-gradient(90deg, #00cc66, var(--green)); }
  .fill-gold { background: linear-gradient(90deg, #cc9900, var(--gold)); }
  .fill-red { background: linear-gradient(90deg, #cc0033, var(--red)); }
  .fill-purple { background: linear-gradient(90deg, #6633cc, var(--purple)); }

  /* Buttons */
  .btn {
    padding: 0.6rem 1.2rem;
    border: none;
    border-radius: 6px;
    font-family: 'Rajdhani', sans-serif;
    font-weight: 600;
    font-size: 0.85rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-cyan {
    background: linear-gradient(135deg, var(--cyan-dim), var(--cyan));
    color: #000;
  }
  .btn-cyan:hover { transform: translateY(-1px); box-shadow: 0 4px 15px rgba(0,212,255,0.4); }

  .btn-outline {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-dim);
  }
  .btn-outline:hover { border-color: var(--cyan); color: var(--cyan); }

  .btn-red {
    background: linear-gradient(135deg, #cc0033, var(--red));
    color: #fff;
  }
  .btn-red:hover { box-shadow: 0 4px 15px rgba(255,51,85,0.4); }

  .btn-green {
    background: linear-gradient(135deg, #00cc66, var(--green));
    color: #000;
  }

  /* Map placeholder */
  .map-area {
    background: var(--surface2);
    border-radius: 8px;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border);
  }

  .map-area::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
      linear-gradient(rgba(0,212,255,0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.05) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .map-dot {
    width: 12px; height: 12px;
    background: var(--cyan);
    border-radius: 50%;
    box-shadow: 0 0 0 8px rgba(0,212,255,0.2);
    animation: mapPulse 2s ease-in-out infinite;
    position: relative;
    z-index: 1;
  }

  @keyframes mapPulse {
    0%, 100% { box-shadow: 0 0 0 4px rgba(0,212,255,0.3); }
    50% { box-shadow: 0 0 0 16px rgba(0,212,255,0); }
  }

  /* Camera grid */
  .camera-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
    margin-top: 0.75rem;
  }

  .cam-feed {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 6px;
    aspect-ratio: 16/9;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.65rem;
    color: var(--text-dim);
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
  }

  .cam-feed.active-cam { border-color: var(--cyan); color: var(--cyan); }

  .cam-feed::after {
    content: '‚óè';
    position: absolute;
    top: 4px;
    right: 6px;
    color: var(--red);
    font-size: 0.6rem;
    animation: blink 1s step-end infinite;
  }

  @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

  /* Timeline */
  .timeline { display: flex; flex-direction: column; gap: 0; }

  .timeline-item {
    display: flex;
    gap: 1rem;
    padding: 0.75rem 0;
    border-bottom: 1px solid rgba(0,212,255,0.06);
    position: relative;
  }

  .timeline-time {
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.7rem;
    color: var(--text-dim);
    min-width: 55px;
    padding-top: 2px;
  }

  .timeline-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    margin-top: 4px;
    flex-shrink: 0;
  }

  .timeline-text { font-size: 0.85rem; }
  .timeline-sub { font-size: 0.75rem; color: var(--text-dim); }

  /* Badge */
  .badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .badge-cyan { background: rgba(0,212,255,0.15); color: var(--cyan); border: 1px solid rgba(0,212,255,0.3); }
  .badge-green { background: rgba(0,255,136,0.15); color: var(--green); border: 1px solid rgba(0,255,136,0.3); }
  .badge-gold { background: rgba(255,215,0,0.15); color: var(--gold); border: 1px solid rgba(255,215,0,0.3); }
  .badge-red { background: rgba(255,51,85,0.15); color: var(--red); border: 1px solid rgba(255,51,85,0.3); }
  .badge-purple { background: rgba(136,85,255,0.15); color: var(--purple); border: 1px solid rgba(136,85,255,0.3); }

  /* Toggle switch */
  .toggle-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.6rem 0;
    border-bottom: 1px solid rgba(255,255,255,0.04);
  }

  .toggle-info { font-size: 0.85rem; }
  .toggle-info small { color: var(--text-dim); font-size: 0.75rem; display: block; }

  .toggle {
    position: relative;
    width: 42px;
    height: 22px;
    cursor: pointer;
  }

  .toggle input { opacity: 0; width: 0; height: 0; }

  .toggle-track {
    position: absolute;
    inset: 0;
    background: rgba(255,255,255,0.1);
    border-radius: 22px;
    transition: background 0.3s;
  }

  .toggle input:checked + .toggle-track { background: var(--cyan); }

  .toggle-track::after {
    content: '';
    position: absolute;
    left: 3px;
    top: 3px;
    width: 16px;
    height: 16px;
    background: white;
    border-radius: 50%;
    transition: transform 0.3s;
  }

  .toggle input:checked + .toggle-track::after { transform: translateX(20px); }

  /* Circular score */
  .score-ring {
    width: 100px;
    height: 100px;
    position: relative;
    margin: 0 auto;
  }

  .score-ring svg { transform: rotate(-90deg); }

  .score-ring-text {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: 'Orbitron', monospace;
    font-size: 1.3rem;
    font-weight: 900;
    color: var(--green);
  }

  .score-ring-text small { font-size: 0.5rem; color: var(--text-dim); letter-spacing: 2px; }

  /* Lunar display */
  .moon-display {
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }

  .moon-icon {
    font-size: 4rem;
    filter: drop-shadow(0 0 15px rgba(0,212,255,0.4));
  }

  .moon-data { flex: 1; }

  .moon-phase-bar {
    height: 3px;
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
    margin: 0.5rem 0;
    overflow: hidden;
  }

  .moon-phase-fill {
    height: 100%;
    background: linear-gradient(90deg, #4477ff, #aabbff);
    border-radius: 2px;
  }

  /* Recording list */
  .recording-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: var(--surface2);
    border-radius: 8px;
    margin-bottom: 0.5rem;
    border: 1px solid var(--border);
    transition: all 0.2s;
  }
  .recording-item:hover { border-color: rgba(0,212,255,0.3); }

  .rec-thumb {
    width: 60px;
    height: 40px;
    background: rgba(0,212,255,0.08);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--cyan);
    font-size: 1.2rem;
    flex-shrink: 0;
  }

  .rec-info { flex: 1; }
  .rec-name { font-size: 0.85rem; font-weight: 600; }
  .rec-meta { font-size: 0.7rem; color: var(--text-dim); }

  .rec-actions { display: flex; gap: 0.5rem; }

  /* Voice input */
  .voice-bar {
    display: flex;
    align-items: flex-end;
    gap: 2px;
    height: 30px;
  }
  .voice-bar span {
    width: 3px;
    background: var(--cyan);
    border-radius: 2px;
    animation: voiceWave 0.6s ease-in-out infinite alternate;
  }
  .voice-bar span:nth-child(1) { animation-delay: 0s; height: 40%; }
  .voice-bar span:nth-child(2) { animation-delay: 0.1s; height: 70%; }
  .voice-bar span:nth-child(3) { animation-delay: 0.2s; height: 100%; }
  .voice-bar span:nth-child(4) { animation-delay: 0.1s; height: 70%; }
  .voice-bar span:nth-child(5) { animation-delay: 0s; height: 40%; }

  @keyframes voiceWave { to { transform: scaleY(0.3); } }

  /* Scrollable area */
  .scroll-area { max-height: 280px; overflow-y: auto; padding-right: 4px; scrollbar-width: thin; scrollbar-color: var(--border) transparent; }

  /* Section title */
  .section-title {
    font-family: 'Orbitron', monospace;
    font-size: 0.6rem;
    letter-spacing: 4px;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  .section-title::after { content: ''; flex: 1; height: 1px; background: var(--border); }

  /* Notifications */
  .notif {
    background: var(--surface2);
    border-left: 3px solid var(--cyan);
    border-radius: 0 8px 8px 0;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    font-size: 0.85rem;
    animation: slideIn 0.3s ease;
  }

  @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }

  /* Voice command input area */
  .voice-cmd {
    display: flex;
    gap: 0.75rem;
    align-items: center;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: all 0.2s;
    margin-top: 1rem;
  }
  .voice-cmd:hover { border-color: rgba(0,212,255,0.3); }
  .voice-cmd.listening { border-color: var(--cyan); background: rgba(0,212,255,0.05); }

  .security-status {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1.5rem;
  }

  .security-ring {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    border: 3px solid;
    transition: all 0.5s;
  }

  .security-ring.armed {
    border-color: var(--green);
    background: rgba(0,255,136,0.05);
    box-shadow: 0 0 30px rgba(0,255,136,0.2), inset 0 0 30px rgba(0,255,136,0.05);
  }

  .security-ring.disarmed {
    border-color: var(--text-dim);
    background: rgba(255,255,255,0.02);
  }

  .security-ring.alert {
    border-color: var(--red);
    background: rgba(255,51,85,0.05);
    box-shadow: 0 0 30px rgba(255,51,85,0.3);
    animation: secAlert 0.5s ease-in-out infinite alternate;
  }

  @keyframes secAlert { to { box-shadow: 0 0 50px rgba(255,51,85,0.5); } }

  .security-label {
    font-family: 'Orbitron', monospace;
    font-size: 0.8rem;
    letter-spacing: 3px;
    margin-top: 0.5rem;
  }
</style>
</head>
<body>

<header class="header">
  <div class="logo">NEXUS <span>GUARDIAN COMMAND</span></div>
  <div class="header-right">
    <div class="status-pill"><div class="pulse-dot"></div>ONLINE</div>
    <div class="points-badge">‚¨° <span id="points-display">2,450</span> PTS</div>
    <a href="demos-hub.html" class="back-btn">‚Üê HUB</a>
  </div>
</header>

<nav class="tab-nav">
  <button class="tab-btn active" onclick="showTab('drive', this)">
    <span class="tab-icon">üöó</span> DRIVE
  </button>
  <button class="tab-btn" onclick="showTab('scanner', this)">
    <span class="tab-icon">üì°</span> SCANNER
  </button>
  <button class="tab-btn" onclick="showTab('reports', this)">
    <span class="tab-icon">üìä</span> REPORTS
  </button>
  <button class="tab-btn" onclick="showTab('wellness', this)">
    <span class="tab-icon">üåô</span> WELLNESS
  </button>
  <button class="tab-btn" onclick="showTab('security', this)">
    <span class="tab-icon">üõ°Ô∏è</span> SECURITY
  </button>
  <button class="tab-btn" onclick="showTab('recording', this)">
    <span class="tab-icon">üé•</span> RECORDING
  </button>
</nav>

<main class="content">

  <!-- DRIVE TAB -->
  <div id="tab-drive" class="tab-pane active">
    <div class="grid-3" style="margin-bottom:1rem">
      <div class="card" style="grid-column: span 1;">
        <div class="card-title">Live Speed</div>
        <div class="speed-gauge">
          <div class="gauge-circle">
            <svg viewBox="0 0 100 100">
              <circle class="gauge-track" cx="50" cy="50" r="40"/>
              <circle class="gauge-fill" id="speed-gauge-fill" cx="50" cy="50" r="40"/>
            </svg>
            <div class="gauge-center">
              <div class="gauge-number" id="speed-display">0</div>
              <div class="gauge-unit">MPH</div>
            </div>
          </div>
          <div style="display:flex;justify-content:space-between;margin-top:0.5rem">
            <div>
              <div style="font-family:'Share Tech Mono';font-size:0.7rem;color:var(--text-dim)">LIMIT</div>
              <div style="color:var(--gold);font-family:'Orbitron',monospace;font-size:0.9rem" id="speed-limit-display">55</div>
            </div>
            <div style="text-align:right">
              <div style="font-family:'Share Tech Mono';font-size:0.7rem;color:var(--text-dim)">STATUS</div>
              <div class="badge" id="speed-status-badge" style="margin-top:2px">‚Äî</div>
            </div>
          </div>
        </div>
      </div>

      <div class="card" style="grid-column: span 2;">
        <div class="card-title">GPS Navigation</div>
        <div class="map-area">
          <div class="map-dot"></div>
        </div>
        <div style="display:flex;gap:1rem;margin-top:0.75rem">
          <div>
            <div class="stat-label">COORDINATES</div>
            <div style="font-family:'Share Tech Mono';font-size:0.8rem;color:var(--text)" id="coords">34.0522¬∞ N, 118.2437¬∞ W</div>
          </div>
          <div>
            <div class="stat-label">ETA</div>
            <div style="font-family:'Orbitron',monospace;font-size:1rem;color:var(--cyan)">12 MIN</div>
          </div>
          <div>
            <div class="stat-label">ROUTE SAFETY</div>
            <div class="badge badge-green">CLEAR</div>
          </div>
        </div>
      </div>
    </div>

    <div class="grid-4" style="margin-bottom:1rem">
      <div class="card">
        <div class="card-title">Trip Distance</div>
        <div class="big-stat" id="trip-dist">8.4</div>
        <div class="stat-label">MILES TODAY</div>
      </div>
      <div class="card">
        <div class="card-title">Drive Score</div>
        <div class="big-stat" style="color:var(--green)">94</div>
        <div class="stat-label">/ 100 EXCELLENT</div>
      </div>
      <div class="card">
        <div class="card-title">Fuel / Range</div>
        <div class="big-stat" style="color:var(--gold)">187</div>
        <div class="stat-label">MILES REMAINING</div>
        <div class="progress-bar"><div class="progress-fill fill-gold" style="width:62%"></div></div>
      </div>
      <div class="card">
        <div class="card-title">Compliance</div>
        <div class="big-stat">98<span style="font-size:1rem">%</span></div>
        <div class="stat-label">THIS MONTH</div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">Active Alerts</div>
      <div id="alerts-area">
        <div class="alert alert-success">‚úÖ All systems nominal ‚Äî excellent driving session</div>
        <div class="alert alert-info">üì° NEXUS monitoring active ‚Äî guardian protocol standing by</div>
      </div>
      <div class="voice-cmd" id="voice-btn" onclick="toggleVoice()">
        <span style="font-size:1.2rem">üé§</span>
        <span id="voice-label" style="font-family:'Share Tech Mono';font-size:0.8rem;color:var(--text-dim);flex:1">PRESS FOR VOICE COMMAND</span>
        <div class="voice-bar" id="voice-bar" style="display:none">
          <span></span><span></span><span></span><span></span><span></span>
        </div>
      </div>
    </div>
  </div>

  <!-- SCANNER TAB -->
  <div id="tab-scanner" class="tab-pane">
    <div class="grid-2" style="margin-bottom:1rem">
      <div class="card">
        <div class="card-title">Police Activity Feed</div>
        <div class="scroll-area">
          <div class="timeline" id="police-feed">
            <div class="timeline-item">
              <div class="timeline-time">2 MIN</div>
              <div class="timeline-dot" style="background:var(--gold)"></div>
              <div>
                <div class="timeline-text">Speed check ‚Äî Hwy 101 NB, Mile 24</div>
                <div class="timeline-sub">‚ö° Moving at 65mph zone ‚Äî moderate activity</div>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-time">8 MIN</div>
              <div class="timeline-dot" style="background:var(--red)"></div>
              <div>
                <div class="timeline-text">Sobriety checkpoint ‚Äî Exit 48</div>
                <div class="timeline-sub">üöî Active 10pm‚Äì2am ‚Äî plan alternate route?</div>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-time">15 MIN</div>
              <div class="timeline-dot" style="background:var(--cyan)"></div>
              <div>
                <div class="timeline-text">Traffic stop ‚Äî Main & 5th</div>
                <div class="timeline-sub">üìç Fender bender, slow past</div>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-time">22 MIN</div>
              <div class="timeline-dot" style="background:var(--green)"></div>
              <div>
                <div class="timeline-text">Area clear ‚Äî Downtown corridor</div>
                <div class="timeline-sub">‚úÖ No incidents reported</div>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-time">31 MIN</div>
              <div class="timeline-dot" style="background:var(--gold)"></div>
              <div>
                <div class="timeline-text">School zone radar ‚Äî Elm Elementary</div>
                <div class="timeline-sub">‚è∞ Active 7‚Äì9am & 2‚Äì4pm weekdays</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Traffic Intelligence</div>
        <div id="traffic-items">
          <div class="alert alert-danger">üî¥ ACCIDENT ‚Äî I-405 SB near Crenshaw Blvd. Expect 18-min delay.</div>
          <div class="alert alert-warn">üü° CONSTRUCTION ‚Äî Olympic Blvd between Vermont & Western. Right lane closed until Friday.</div>
          <div class="alert alert-info">üîµ ALTERNATE ROUTE ‚Äî Via surface streets adds 4 min but avoids all incidents.</div>
          <div class="alert alert-success">üü¢ YOUR ROUTE ‚Äî Currently clear. ETA maintained.</div>
        </div>
        <div style="margin-top:1rem">
          <div class="card-title">Road Hazard Scanner</div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.5rem">
            <div style="text-align:center;padding:0.5rem;background:var(--surface2);border-radius:8px;border:1px solid var(--border)">
              <div style="font-size:1.5rem">üåßÔ∏è</div>
              <div style="font-size:0.7rem;color:var(--text-dim);letter-spacing:1px">WEATHER</div>
              <div class="badge badge-cyan">CLEAR</div>
            </div>
            <div style="text-align:center;padding:0.5rem;background:var(--surface2);border-radius:8px;border:1px solid var(--border)">
              <div style="font-size:1.5rem">üå¨Ô∏è</div>
              <div style="font-size:0.7rem;color:var(--text-dim);letter-spacing:1px">WIND</div>
              <div class="badge badge-green">8 MPH</div>
            </div>
            <div style="text-align:center;padding:0.5rem;background:var(--surface2);border-radius:8px;border:1px solid var(--border)">
              <div style="font-size:1.5rem">üå°Ô∏è</div>
              <div style="font-size:0.7rem;color:var(--text-dim);letter-spacing:1px">TEMP</div>
              <div class="badge badge-gold">72¬∞F</div>
            </div>
            <div style="text-align:center;padding:0.5rem;background:var(--surface2);border-radius:8px;border:1px solid var(--border)">
              <div style="font-size:1.5rem">üëÅÔ∏è</div>
              <div style="font-size:0.7rem;color:var(--text-dim);letter-spacing:1px">VISIBILITY</div>
              <div class="badge badge-green">10 MI</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">Community Report Feed</div>
      <div style="display:flex;gap:0.75rem;flex-wrap:wrap;margin-bottom:1rem">
        <button class="btn btn-cyan" onclick="addReport('speed trap')">+ Speed Trap</button>
        <button class="btn btn-outline" onclick="addReport('pothole')">+ Pothole</button>
        <button class="btn btn-outline" onclick="addReport('accident')">+ Accident</button>
        <button class="btn btn-outline" onclick="addReport('debris')">+ Road Debris</button>
      </div>
      <div id="community-feed">
        <div class="notif">üö® <strong>SpeedTrap:</strong> User #4421 reported radar on Sunset Blvd near PCH ‚Äî <span style="color:var(--text-dim)">3 min ago ¬∑ 12 confirms</span></div>
        <div class="notif" style="border-color:var(--gold)">‚ö†Ô∏è <strong>Pothole:</strong> User #8832 reported large pothole Vine St before Sunset ‚Äî <span style="color:var(--text-dim)">8 min ago ¬∑ 5 confirms</span></div>
      </div>
    </div>
  </div>

  <!-- REPORTS TAB -->
  <div id="tab-reports" class="tab-pane">
    <div class="grid-3" style="margin-bottom:1rem">
      <div class="card" style="text-align:center">
        <div class="card-title">Safety Score</div>
        <div class="score-ring">
          <svg width="100" height="100" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="42" fill="none" stroke="rgba(0,255,136,0.1)" stroke-width="8"/>
            <circle cx="50" cy="50" r="42" fill="none" stroke="var(--green)" stroke-width="8"
              stroke-dasharray="264" stroke-dashoffset="26" stroke-linecap="round"
              style="filter:drop-shadow(0 0 8px rgba(0,255,136,0.5))"/>
          </svg>
          <div class="score-ring-text">94<small>/ 100</small></div>
        </div>
        <div style="margin-top:0.75rem">
          <div class="badge badge-green">EXCELLENT DRIVER</div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Monthly Summary</div>
        <div style="display:flex;flex-direction:column;gap:0.75rem">
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Speed Compliance</span><span style="color:var(--green)">98%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-green" style="width:98%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Smooth Braking</span><span style="color:var(--cyan)">87%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-cyan" style="width:87%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Safe Following</span><span style="color:var(--cyan)">92%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-cyan" style="width:92%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Focused Driving</span><span style="color:var(--gold)">79%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-gold" style="width:79%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Night Safety</span><span style="color:var(--green)">95%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-green" style="width:95%"></div></div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Insurance Impact</div>
        <div style="text-align:center;padding:1rem 0">
          <div style="font-family:'Orbitron',monospace;font-size:2rem;color:var(--green);text-shadow:0 0 20px rgba(0,255,136,0.4)">-$87</div>
          <div style="font-size:0.75rem;letter-spacing:2px;color:var(--text-dim);margin:4px 0 1rem">MONTHLY SAVINGS</div>
          <div class="badge badge-green">NEXUS CERTIFIED SAFE</div>
        </div>
        <div style="margin-top:0.75rem;display:flex;flex-direction:column;gap:0.4rem">
          <div style="display:flex;justify-content:space-between;font-size:0.8rem">
            <span style="color:var(--text-dim)">Base Premium</span><span>$142/mo</span>
          </div>
          <div style="display:flex;justify-content:space-between;font-size:0.8rem">
            <span style="color:var(--text-dim)">NEXUS Discount</span><span style="color:var(--green)">-$87/mo</span>
          </div>
          <div style="display:flex;justify-content:space-between;font-size:0.8rem;font-weight:700;padding-top:0.4rem;border-top:1px solid var(--border)">
            <span>You Pay</span><span style="color:var(--cyan)">$55/mo</span>
          </div>
        </div>
      </div>
    </div>

    <div class="grid-2">
      <div class="card">
        <div class="card-title">Trip Analytics ‚Äî Last 7 Days</div>
        <div id="trip-chart" style="display:flex;align-items:flex-end;gap:8px;height:100px;padding:0.5rem 0">
          <!-- Bar chart via CSS -->
        </div>
        <div style="display:flex;justify-content:space-between;font-size:0.65rem;color:var(--text-dim);margin-top:4px">
          <span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span>
        </div>
        <div style="margin-top:1rem;display:flex;gap:1rem">
          <div><div class="stat-label">TOTAL MILES</div><div style="color:var(--cyan);font-family:'Orbitron',monospace">347</div></div>
          <div><div class="stat-label">AVG SCORE</div><div style="color:var(--green);font-family:'Orbitron',monospace">91</div></div>
          <div><div class="stat-label">INCIDENTS</div><div style="color:var(--green);font-family:'Orbitron',monospace">0</div></div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Achievement Badges</div>
        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:0.5rem">
          <div style="text-align:center;padding:0.75rem;background:rgba(0,255,136,0.05);border:1px solid rgba(0,255,136,0.2);border-radius:8px">
            <div style="font-size:1.5rem">üèÜ</div>
            <div style="font-size:0.6rem;color:var(--green);margin-top:4px;letter-spacing:1px">PERFECT WEEK</div>
          </div>
          <div style="text-align:center;padding:0.75rem;background:rgba(0,212,255,0.05);border:1px solid rgba(0,212,255,0.2);border-radius:8px">
            <div style="font-size:1.5rem">‚ö°</div>
            <div style="font-size:0.6rem;color:var(--cyan);margin-top:4px;letter-spacing:1px">SPEED MASTER</div>
          </div>
          <div style="text-align:center;padding:0.75rem;background:rgba(255,215,0,0.05);border:1px solid rgba(255,215,0,0.2);border-radius:8px">
            <div style="font-size:1.5rem">üåô</div>
            <div style="font-size:0.6rem;color:var(--gold);margin-top:4px;letter-spacing:1px">NIGHT OWL</div>
          </div>
          <div style="text-align:center;padding:0.75rem;background:rgba(136,85,255,0.05);border:1px solid rgba(136,85,255,0.2);border-radius:8px">
            <div style="font-size:1.5rem">üõ°Ô∏è</div>
            <div style="font-size:0.6rem;color:var(--purple);margin-top:4px;letter-spacing:1px">GUARDIAN</div>
          </div>
          <div style="text-align:center;padding:0.75rem;background:rgba(0,255,136,0.05);border:1px solid rgba(0,255,136,0.2);border-radius:8px">
            <div style="font-size:1.5rem">üíö</div>
            <div style="font-size:0.6rem;color:var(--green);margin-top:4px;letter-spacing:1px">ECO DRIVER</div>
          </div>
          <div style="text-align:center;padding:0.75rem;background:rgba(100,100,100,0.05);border:1px solid rgba(100,100,100,0.2);border-radius:8px">
            <div style="font-size:1.5rem">üîí</div>
            <div style="font-size:0.6rem;color:var(--text-dim);margin-top:4px;letter-spacing:1px">LOCKED</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- WELLNESS TAB -->
  <div id="tab-wellness" class="tab-pane">
    <div class="card" style="margin-bottom:1rem">
      <div class="card-title">MoonPath Emotional Intelligence Engine</div>
      <div class="moon-display">
        <div class="moon-icon" id="moon-icon">üåò</div>
        <div class="moon-data">
          <div style="font-family:'Orbitron',monospace;font-size:1.1rem;color:var(--cyan)" id="moon-phase-name">Waning Crescent</div>
          <div style="color:var(--text-dim);font-size:0.85rem;margin:0.25rem 0">Lunar Cycle Day 26 of 29</div>
          <div class="moon-phase-bar"><div class="moon-phase-fill" style="width:89%"></div></div>
          <div style="font-size:0.8rem;color:var(--text);margin-top:0.5rem">
            üîÆ <em>Energy: Introspective & releasing. Ideal for calm driving. Heightened intuition but reduced aggression tolerance ‚Äî allow extra following distance today.</em>
          </div>
        </div>
      </div>
    </div>

    <div class="grid-2" style="margin-bottom:1rem">
      <div class="card">
        <div class="card-title">Emotional State Forecast</div>
        <div style="display:flex;flex-direction:column;gap:0.75rem">
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Stress Tolerance</span><span style="color:var(--gold)">62%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-gold" style="width:62%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Focus Capacity</span><span style="color:var(--cyan)">78%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-cyan" style="width:78%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Emotional Resilience</span><span style="color:var(--cyan)">71%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-cyan" style="width:71%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:3px">
              <span>Road Patience</span><span style="color:var(--green)">85%</span>
            </div>
            <div class="progress-bar"><div class="progress-fill fill-green" style="width:85%"></div></div>
          </div>
        </div>
        <div class="alert alert-info" style="margin-top:1rem">
          üåô Waning phase: extra mindfulness recommended for night driving
        </div>
      </div>

      <div class="card">
        <div class="card-title">Today's Wellness Guidance</div>
        <div style="display:flex;flex-direction:column;gap:0.75rem">
          <div style="padding:0.75rem;background:var(--surface2);border-radius:8px;border-left:3px solid var(--purple)">
            <div style="font-size:0.8rem;font-weight:700;color:var(--purple);margin-bottom:3px">üßò MORNING INTENTION</div>
            <div style="font-size:0.8rem">Set a calm driving intention before starting. The waning moon supports releasing frustration and stress.</div>
          </div>
          <div style="padding:0.75rem;background:var(--surface2);border-radius:8px;border-left:3px solid var(--cyan)">
            <div style="font-size:0.8rem;font-weight:700;color:var(--cyan);margin-bottom:3px">üå¨Ô∏è BREATH REMINDER</div>
            <div style="font-size:0.8rem">3 deep breaths at red lights. Your nervous system thanks you. NEXUS detects when stress peaks.</div>
          </div>
          <div style="padding:0.75rem;background:var(--surface2);border-radius:8px;border-left:3px solid var(--green)">
            <div style="font-size:0.8rem;font-weight:700;color:var(--green);margin-bottom:3px">‚ú® MOON MESSAGE</div>
            <div style="font-size:0.8rem">Release what no longer serves you. Every safe mile is a prayer answered.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">Lunar Calendar ‚Äî This Month</div>
      <div style="display:flex;gap:0.5rem;flex-wrap:wrap">
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(0,212,255,0.1);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåë</div><div style="color:var(--text-dim)">Feb 1</div><div style="color:var(--cyan)">New</div>
        </div>
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(0,212,255,0.05);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåí</div><div style="color:var(--text-dim)">Feb 5</div><div style="color:var(--text-dim)">Cresc</div>
        </div>
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(0,212,255,0.05);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåì</div><div style="color:var(--text-dim)">Feb 9</div><div style="color:var(--text-dim)">Q1</div>
        </div>
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(255,215,0,0.1);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåï</div><div style="color:var(--text-dim)">Feb 14</div><div style="color:var(--gold)">Full</div>
        </div>
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(0,212,255,0.05);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåñ</div><div style="color:var(--text-dim)">Feb 18</div><div style="color:var(--text-dim)">Q3</div>
        </div>
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(136,85,255,0.15);border:1px solid rgba(136,85,255,0.4);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåò</div><div style="color:var(--text-dim)">Feb 19</div><div style="color:var(--purple)">NOW</div>
        </div>
        <div style="text-align:center;padding:0.4rem 0.6rem;background:rgba(0,212,255,0.05);border-radius:6px;font-size:0.7rem;min-width:50px">
          <div style="font-size:1rem">üåë</div><div style="color:var(--text-dim)">Mar 1</div><div style="color:var(--text-dim)">New</div>
        </div>
      </div>
    </div>
  </div>

  <!-- SECURITY TAB -->
  <div id="tab-security" class="tab-pane">
    <div class="grid-2" style="margin-bottom:1rem">
      <div class="card">
        <div class="card-title">Security Status</div>
        <div class="security-status">
          <div class="security-ring armed" id="security-ring">üõ°Ô∏è</div>
          <div class="security-label" id="security-label" style="color:var(--green)">ARMED & SECURE</div>
          <div style="color:var(--text-dim);font-size:0.8rem;margin-top:0.25rem">360¬∞ Guardian Active</div>
          <div style="display:flex;gap:0.75rem;margin-top:1rem">
            <button class="btn btn-red" onclick="setSecurityState('alert')">TRIGGER ALERT</button>
            <button class="btn btn-outline" onclick="setSecurityState('disarmed')">DISARM</button>
            <button class="btn btn-green" onclick="setSecurityState('armed')">ARM</button>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">360¬∞ Camera System</div>
        <div class="camera-grid">
          <div class="cam-feed active-cam" onclick="selectCam(this, 'FRONT')">FRONT</div>
          <div class="cam-feed" onclick="selectCam(this, 'REAR')">REAR</div>
          <div class="cam-feed" onclick="selectCam(this, 'LEFT')">LEFT</div>
          <div class="cam-feed" onclick="selectCam(this, 'RIGHT')">RIGHT</div>
          <div class="cam-feed" onclick="selectCam(this, 'INTERIOR')">CABIN</div>
          <div class="cam-feed" onclick="selectCam(this, 'OVERHEAD')">TOP</div>
        </div>
        <div style="margin-top:0.75rem;padding:0.5rem;background:var(--surface2);border-radius:6px;font-family:'Share Tech Mono';font-size:0.75rem;color:var(--cyan)" id="active-cam-label">
          üì∑ VIEWING: FRONT CAMERA ‚Äî LIVE
        </div>
      </div>
    </div>

    <div class="grid-2">
      <div class="card">
        <div class="card-title">PA System</div>
        <div style="display:flex;flex-direction:column;gap:0.5rem;margin-bottom:1rem">
          <button class="btn btn-outline" style="text-align:left" onclick="playPA('Move away from the vehicle. You are being recorded.')">
            üîä "Move away ‚Äî you are being recorded"
          </button>
          <button class="btn btn-outline" style="text-align:left" onclick="playPA('This vehicle is protected by NEXUS Guardian AI. All activity is logged.')">
            üîä "Protected by NEXUS Guardian AI"
          </button>
          <button class="btn btn-outline" style="text-align:left" onclick="playPA('Law enforcement has been contacted. Please remain calm.')">
            üîä "Law enforcement contacted"
          </button>
          <button class="btn btn-red" onclick="triggerSiren()">
            üö® EMERGENCY SIREN
          </button>
        </div>
        <div id="pa-output" style="display:none;padding:0.75rem;background:var(--surface2);border-radius:6px;font-size:0.8rem;border-left:3px solid var(--cyan)"></div>
      </div>

      <div class="card">
        <div class="card-title">Security Settings</div>
        <div class="toggle-row">
          <div class="toggle-info">Motion Detection<small>Alert on any motion within 15ft</small></div>
          <label class="toggle"><input type="checkbox" checked onchange="toggleSetting('motion')"><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">Perimeter Alert<small>Sound alarm if approached</small></div>
          <label class="toggle"><input type="checkbox" checked><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">Auto-Record on Alert<small>Start recording on trigger</small></div>
          <label class="toggle"><input type="checkbox" checked><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">Face Recognition<small>Log unknown individuals</small></div>
          <label class="toggle"><input type="checkbox"><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">Cloud Backup<small>Incident footage auto-uploaded</small></div>
          <label class="toggle"><input type="checkbox" checked><div class="toggle-track"></div></label>
        </div>
      </div>
    </div>
  </div>

  <!-- RECORDING TAB -->
  <div id="tab-recording" class="tab-pane">
    <div class="grid-2" style="margin-bottom:1rem">
      <div class="card">
        <div class="card-title">Active Recording</div>
        <div style="display:flex;align-items:center;gap:1rem;padding:0.5rem 0">
          <div style="width:12px;height:12px;border-radius:50%;background:var(--red);animation:blink 0.8s step-end infinite"></div>
          <div>
            <div style="font-family:'Orbitron',monospace;font-size:0.85rem;color:var(--red)">RECORDING ACTIVE</div>
            <div style="font-size:0.75rem;color:var(--text-dim)">Continuous dashcam ‚Äî front & rear</div>
          </div>
          <div style="margin-left:auto;font-family:'Share Tech Mono';font-size:1rem;color:var(--cyan)" id="rec-timer">00:47:23</div>
        </div>
        <div style="margin-top:0.75rem;display:flex;gap:0.5rem">
          <div style="flex:1;padding:0.75rem;background:var(--surface2);border-radius:8px;text-align:center">
            <div style="font-size:0.65rem;color:var(--text-dim);letter-spacing:2px">STORAGE</div>
            <div style="font-family:'Orbitron',monospace;color:var(--cyan);font-size:1rem">14.2 GB</div>
            <div class="progress-bar" style="margin-top:4px"><div class="progress-fill fill-cyan" style="width:56%"></div></div>
          </div>
          <div style="flex:1;padding:0.75rem;background:var(--surface2);border-radius:8px;text-align:center">
            <div style="font-size:0.65rem;color:var(--text-dim);letter-spacing:2px">QUALITY</div>
            <div style="font-family:'Orbitron',monospace;color:var(--green);font-size:1rem">4K</div>
            <div class="badge badge-green" style="margin-top:4px">HDR ON</div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Quick Actions</div>
        <div style="display:flex;flex-direction:column;gap:0.5rem">
          <button class="btn btn-cyan" onclick="lockFootage()">üîí LOCK CURRENT FOOTAGE (Evidence)</button>
          <button class="btn btn-outline" onclick="captureSnapshot()">üì∏ CAPTURE SNAPSHOT</button>
          <button class="btn btn-outline" onclick="shareClip()">üì§ SHARE LAST 60 SECONDS</button>
          <button class="btn btn-red" onclick="emergencyRecord()">üö® EMERGENCY RECORD (SOS)</button>
        </div>
        <div id="recording-feedback" style="margin-top:0.75rem"></div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">Recent Recordings</div>
      <div id="recordings-list">
        <div class="recording-item">
          <div class="rec-thumb">üìπ</div>
          <div class="rec-info">
            <div class="rec-name">Trip Recording ‚Äî Feb 19, 8:42 AM</div>
            <div class="rec-meta">Duration: 47 min ¬∑ 2.1 GB ¬∑ Front + Rear ¬∑ Score: 94</div>
          </div>
          <div class="rec-actions">
            <div class="badge badge-green">SAFE</div>
            <button class="btn btn-outline" style="padding:4px 10px;font-size:0.7rem" onclick="playRec(this)">‚ñ∂</button>
          </div>
        </div>
        <div class="recording-item">
          <div class="rec-thumb">üîí</div>
          <div class="rec-info">
            <div class="rec-name">LOCKED ‚Äî Incident Feb 18, 11:17 PM</div>
            <div class="rec-meta">Duration: 2 min 14 sec ¬∑ 440 MB ¬∑ All cameras ¬∑ Auto-locked by NEXUS</div>
          </div>
          <div class="rec-actions">
            <div class="badge badge-gold">EVIDENCE</div>
            <button class="btn btn-outline" style="padding:4px 10px;font-size:0.7rem" onclick="playRec(this)">‚ñ∂</button>
          </div>
        </div>
        <div class="recording-item">
          <div class="rec-thumb">üìπ</div>
          <div class="rec-info">
            <div class="rec-name">Trip Recording ‚Äî Feb 18, 4:15 PM</div>
            <div class="rec-meta">Duration: 1 hr 12 min ¬∑ 3.8 GB ¬∑ Front + Rear ¬∑ Score: 89</div>
          </div>
          <div class="rec-actions">
            <div class="badge badge-cyan">STORED</div>
            <button class="btn btn-outline" style="padding:4px 10px;font-size:0.7rem" onclick="playRec(this)">‚ñ∂</button>
          </div>
        </div>
        <div class="recording-item">
          <div class="rec-thumb">üìπ</div>
          <div class="rec-info">
            <div class="rec-name">Trip Recording ‚Äî Feb 17, 9:05 AM</div>
            <div class="rec-meta">Duration: 28 min ¬∑ 1.4 GB ¬∑ Front + Rear ¬∑ Score: 97</div>
          </div>
          <div class="rec-actions">
            <div class="badge badge-green">PERFECT</div>
            <button class="btn btn-outline" style="padding:4px 10px;font-size:0.7rem" onclick="playRec(this)">‚ñ∂</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</main>

<script>
  // Tab switching
  function showTab(name, btn) {
    document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('tab-' + name).classList.add('active');
    btn.classList.add('active');
  }

  // Speed simulation
  let currentSpeed = 0;
  let targetSpeed = 0;
  let speedLimit = 55;
  let points = 2450;

  const speeds = [0, 25, 35, 45, 55, 60, 52, 40, 30, 0, 65, 55, 48];
  let speedIndex = 0;

  function updateSpeed() {
    targetSpeed = speeds[speedIndex % speeds.length];
    speedIndex++;

    // Gradually approach target
    const diff = targetSpeed - currentSpeed;
    currentSpeed += diff * 0.3;
    const rounded = Math.round(currentSpeed);

    document.getElementById('speed-display').textContent = rounded;

    // Update gauge
    const pct = Math.min(rounded / 80, 1);
    const dashoffset = 251 - (251 * pct * 0.75);
    document.getElementById('speed-gauge-fill').style.strokeDashoffset = dashoffset;

    // Status badge
    const badge = document.getElementById('speed-status-badge');
    if (rounded > speedLimit + 5) {
      badge.className = 'badge badge-red';
      badge.textContent = 'OVER LIMIT';
    } else if (rounded > speedLimit) {
      badge.className = 'badge badge-gold';
      badge.textContent = 'AT LIMIT';
    } else {
      badge.className = 'badge badge-green';
      badge.textContent = 'COMPLIANT';
    }
  }

  setInterval(updateSpeed, 2000);
  updateSpeed();

  // Points counter
  function addPoints(n) {
    points += n;
    document.getElementById('points-display').textContent = points.toLocaleString();
  }

  // Voice command
  let voiceActive = false;
  const voiceCommands = [
    "Checking route for incidents...",
    "Guardian Protocol: Standing by",
    "Speed compliance: 98% this month",
    "MoonPath active ‚Äî waning crescent detected",
    "360¬∞ cameras armed and recording"
  ];

  function toggleVoice() {
    voiceActive = !voiceActive;
    const btn = document.getElementById('voice-btn');
    const label = document.getElementById('voice-label');
    const bars = document.getElementById('voice-bar');

    if (voiceActive) {
      btn.classList.add('listening');
      label.style.display = 'none';
      bars.style.display = 'flex';
      setTimeout(() => {
        const resp = voiceCommands[Math.floor(Math.random() * voiceCommands.length)];
        bars.style.display = 'none';
        label.textContent = 'ü§ñ ' + resp;
        label.style.display = 'block';
        label.style.color = 'var(--cyan)';
        btn.classList.remove('listening');
        voiceActive = false;
        addPoints(10);
      }, 1500);
    }
  }

  // Community reports
  function addReport(type) {
    const feed = document.getElementById('community-feed');
    const icons = { 'speed trap':'üö®', 'pothole':'‚ö†Ô∏è', 'accident':'üöó', 'debris':'‚¨õ' };
    const div = document.createElement('div');
    div.className = 'notif';
    div.style.borderColor = 'var(--green)';
    div.innerHTML = `${icons[type] || 'üìç'} <strong>${type.charAt(0).toUpperCase()+type.slice(1)}:</strong> You reported ‚Äî <span style="color:var(--text-dim)">just now ¬∑ 0 confirms</span>`;
    div.style.borderColor = 'var(--green)';
    feed.prepend(div);
    addPoints(25);
  }

  // Security
  function setSecurityState(state) {
    const ring = document.getElementById('security-ring');
    const label = document.getElementById('security-label');
    ring.className = 'security-ring ' + state;
    if (state === 'armed') {
      ring.innerHTML = 'üõ°Ô∏è';
      label.textContent = 'ARMED & SECURE';
      label.style.color = 'var(--green)';
    } else if (state === 'disarmed') {
      ring.innerHTML = 'üîì';
      label.textContent = 'DISARMED';
      label.style.color = 'var(--text-dim)';
    } else if (state === 'alert') {
      ring.innerHTML = 'üö®';
      label.textContent = 'ALERT ‚Äî INTRUDER DETECTED';
      label.style.color = 'var(--red)';
      setTimeout(() => setSecurityState('armed'), 4000);
    }
  }

  function selectCam(el, name) {
    document.querySelectorAll('.cam-feed').forEach(c => c.classList.remove('active-cam'));
    el.classList.add('active-cam');
    document.getElementById('active-cam-label').textContent = `üì∑ VIEWING: ${name} CAMERA ‚Äî LIVE`;
  }

  function playPA(msg) {
    const out = document.getElementById('pa-output');
    out.style.display = 'block';
    out.innerHTML = `üîä <strong>PA BROADCAST:</strong> "${msg}"`;

    if ('speechSynthesis' in window) {
      const utt = new SpeechSynthesisUtterance(msg);
      utt.rate = 0.85;
      window.speechSynthesis.speak(utt);
    }

    setTimeout(() => { out.style.display = 'none'; }, 5000);
  }

  function triggerSiren() {
    const out = document.getElementById('pa-output');
    out.style.display = 'block';
    out.innerHTML = 'üö® <strong style="color:var(--red)">EMERGENCY SIREN ACTIVATED</strong> ‚Äî Recording all cameras. Emergency services alert sent.';
    out.style.borderColor = 'var(--red)';
    setTimeout(() => { out.style.display = 'none'; out.style.borderColor = 'var(--cyan)'; }, 5000);
  }

  // Recording functions
  function lockFootage() {
    const fb = document.getElementById('recording-feedback');
    fb.innerHTML = '<div class="alert alert-success">üîí Footage locked as evidence. Saved to cloud backup. Cannot be auto-deleted.</div>';
    addPoints(50);
    setTimeout(() => { fb.innerHTML = ''; }, 4000);
  }

  function captureSnapshot() {
    const fb = document.getElementById('recording-feedback');
    fb.innerHTML = '<div class="alert alert-info">üì∏ Snapshot captured ‚Äî saved to gallery. <span style="color:var(--text-dim)">Today 8:47 AM</span></div>';
    setTimeout(() => { fb.innerHTML = ''; }, 3000);
  }

  function shareClip() {
    const fb = document.getElementById('recording-feedback');
    fb.innerHTML = '<div class="alert alert-info">üì§ Last 60 seconds packaged. Share link generated: <span style="color:var(--cyan)">nexus.link/clip/Zx8d</span></div>';
    setTimeout(() => { fb.innerHTML = ''; }, 4000);
  }

  function emergencyRecord() {
    const fb = document.getElementById('recording-feedback');
    fb.innerHTML = '<div class="alert alert-danger">üö® EMERGENCY MODE ‚Äî All cameras recording maximum quality. SOS signal sent. Emergency contacts notified.</div>';
    setTimeout(() => { fb.innerHTML = ''; }, 5000);
  }

  function playRec(btn) {
    const orig = btn.textContent;
    btn.textContent = '‚è∏';
    setTimeout(() => { btn.textContent = orig; }, 2000);
  }

  // Build bar chart
  const bars = [85, 92, 78, 96, 89, 94, 88];
  const chart = document.getElementById('trip-chart');
  if (chart) {
    bars.forEach((h, i) => {
      const bar = document.createElement('div');
      bar.style.cssText = `flex:1;background:linear-gradient(180deg,var(--cyan) 0%,rgba(0,212,255,0.3) 100%);border-radius:3px 3px 0 0;height:${h}%;box-shadow:0 0 8px rgba(0,212,255,0.3)`;
      chart.appendChild(bar);
    });
  }

  // Recording timer
  let recSeconds = 47 * 60 + 23;
  setInterval(() => {
    recSeconds++;
    const h = Math.floor(recSeconds / 3600);
    const m = Math.floor((recSeconds % 3600) / 60);
    const s = recSeconds % 60;
    const el = document.getElementById('rec-timer');
    if (el) el.textContent = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }, 1000);
</script>
</body>
</html>
