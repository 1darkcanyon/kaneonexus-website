<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEXUS SafeGuard Pro</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root{
  --cyan:#16c79a;--teal:#11698e;--dark:#04080a;--mid:#0a1520;
  --card:#0b1e2a;--glow:rgba(22,199,154,0.2);--dim:rgba(22,199,154,0.05);
  --red:#ff4060;--yellow:#f0c060;--green:#16c79a;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--dark);color:#a0d8f0;font-family:'Rajdhani',sans-serif;min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;z-index:0;
  background-image:linear-gradient(rgba(17,105,142,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(17,105,142,0.05) 1px,transparent 1px);
  background-size:40px 40px;pointer-events:none;}

.wrap{position:relative;z-index:1;max-width:1200px;margin:0 auto;padding:24px;}

.nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:28px;}
.back{font-family:'Share Tech Mono',monospace;font-size:0.75rem;color:var(--cyan);text-decoration:none;opacity:0.7;transition:opacity 0.2s;}
.back:hover{opacity:1;}
.system-title{font-family:'Orbitron',monospace;font-size:1rem;color:var(--cyan);letter-spacing:0.2em;}
.status-pill{
  background:rgba(22,199,154,0.1);border:1px solid rgba(22,199,154,0.3);
  border-radius:20px;padding:6px 14px;
  font-family:'Share Tech Mono',monospace;font-size:0.7rem;color:var(--cyan);
  display:flex;align-items:center;gap:8px;
}
.dot{width:6px;height:6px;border-radius:50%;background:var(--cyan);animation:blink 1.5s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.2}}

/* Main layout */
.main-grid{display:grid;grid-template-columns:1fr 320px;gap:20px;margin-bottom:20px;}
@media(max-width:800px){.main-grid{grid-template-columns:1fr;}}

/* Camera feeds */
.cam-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.cam-feed{
  background:var(--card);border:1px solid rgba(17,105,142,0.3);border-radius:10px;
  position:relative;overflow:hidden;aspect-ratio:16/9;cursor:pointer;
  transition:border-color 0.2s;
}
.cam-feed:hover,.cam-feed.active{border-color:var(--cyan);}
.cam-canvas{width:100%;height:100%;display:block;}
.cam-overlay{
  position:absolute;inset:0;padding:10px;
  display:flex;flex-direction:column;justify-content:space-between;
  pointer-events:none;
}
.cam-label{font-family:'Share Tech Mono',monospace;font-size:0.6rem;
  color:rgba(22,199,154,0.8);background:rgba(4,8,10,0.7);padding:3px 7px;border-radius:4px;width:fit-content;}
.cam-status-badge{
  font-family:'Share Tech Mono',monospace;font-size:0.55rem;
  background:rgba(4,8,10,0.7);padding:3px 7px;border-radius:4px;width:fit-content;align-self:flex-end;
}
.cam-status-badge.ok{color:var(--green);}
.cam-status-badge.alert{color:var(--red);}
.scan-line{
  position:absolute;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,rgba(22,199,154,0.4),transparent);
  animation:scan var(--spd,3s) linear infinite;
}
@keyframes scan{0%{top:-2px}100%{top:100%}}

/* Side panel */
.side-panel{display:flex;flex-direction:column;gap:14px;}
.panel-card{background:var(--card);border:1px solid rgba(17,105,142,0.25);border-radius:10px;padding:18px;}
.panel-label{font-family:'Share Tech Mono',monospace;font-size:0.6rem;letter-spacing:0.2em;color:rgba(22,199,154,0.5);margin-bottom:12px;}

/* Threat meter */
.threat-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;}
.threat-level{font-family:'Orbitron',monospace;font-size:1.6rem;font-weight:900;}
.threat-level.low{color:var(--green);}
.threat-level.med{color:var(--yellow);}
.threat-level.high{color:var(--red);}
.threat-label{font-family:'Share Tech Mono',monospace;font-size:0.65rem;color:rgba(160,216,240,0.5);}
.threat-bars{display:flex;gap:3px;}
.tbar{width:18px;height:32px;border-radius:3px;background:rgba(255,255,255,0.05);transition:background 0.5s;}
.tbar.lit.g{background:var(--green);}
.tbar.lit.y{background:var(--yellow);}
.tbar.lit.r{background:var(--red);}

/* Zone map */
.zone-map{position:relative;width:100%;aspect-ratio:1;border:1px solid rgba(22,199,154,0.1);border-radius:50%;margin:8px 0;}
.zone-map-inner{position:absolute;inset:25%;border:1px solid rgba(22,199,154,0.2);border-radius:50%;
  background:rgba(22,199,154,0.03);display:flex;align-items:center;justify-content:center;}
.vehicle-icon{font-size:1.6rem;}
.zone-dot{position:absolute;width:10px;height:10px;border-radius:50%;transform:translate(-50%,-50%);}
.zone-dot.clear{background:rgba(22,199,154,0.4);box-shadow:0 0 8px rgba(22,199,154,0.4);}
.zone-dot.alert{background:var(--red);box-shadow:0 0 12px rgba(255,64,96,0.6);animation:pulse-dot 1s infinite;}
@keyframes pulse-dot{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.5)}}

/* Controls */
.ctrl-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.ctrl-btn{
  background:var(--dim);border:1px solid rgba(22,199,154,0.2);border-radius:8px;
  color:var(--cyan);font-family:'Share Tech Mono',monospace;font-size:0.65rem;
  padding:10px 8px;text-align:center;cursor:pointer;transition:all 0.2s;
  letter-spacing:0.05em;
}
.ctrl-btn:hover{background:rgba(22,199,154,0.1);border-color:var(--cyan);}
.ctrl-btn.active{background:rgba(22,199,154,0.15);border-color:var(--cyan);color:#fff;}
.ctrl-btn.red{border-color:rgba(255,64,96,0.3);color:var(--red);}
.ctrl-btn.red:hover{background:rgba(255,64,96,0.1);}

/* Event log */
.log-section{background:var(--card);border:1px solid rgba(17,105,142,0.25);border-radius:10px;padding:18px;}
.log-stream{max-height:140px;overflow-y:auto;font-family:'Share Tech Mono',monospace;font-size:0.67rem;line-height:1.8;}
.log-stream::-webkit-scrollbar{width:4px;}
.log-stream::-webkit-scrollbar-track{background:transparent;}
.log-stream::-webkit-scrollbar-thumb{background:rgba(22,199,154,0.2);border-radius:2px;}
.log-entry{border-bottom:1px solid rgba(22,199,154,0.05);padding:2px 0;}
.log-ok{color:rgba(22,199,154,0.7);}
.log-warn{color:var(--yellow);}
.log-alert{color:var(--red);}
.log-ts{color:rgba(160,216,240,0.3);margin-right:8px;}

/* PA controls */
.pa-section{display:flex;align-items:center;gap:12px;margin-top:12px;}
.pa-input{
  flex:1;background:rgba(22,199,154,0.05);border:1px solid rgba(22,199,154,0.2);
  border-radius:8px;color:var(--cyan);font-family:'Share Tech Mono',monospace;
  font-size:0.75rem;padding:10px 14px;outline:none;
}
.pa-input::placeholder{color:rgba(22,199,154,0.25);}
.pa-input:focus{border-color:var(--cyan);}
.pa-btn{
  background:rgba(22,199,154,0.1);border:1px solid var(--cyan);border-radius:8px;
  color:var(--cyan);font-family:'Orbitron',monospace;font-size:0.65rem;letter-spacing:0.1em;
  padding:10px 16px;cursor:pointer;transition:all 0.2s;white-space:nowrap;
}
.pa-btn:hover{background:rgba(22,199,154,0.2);}

footer{text-align:center;padding:32px 0 16px;font-family:'Share Tech Mono',monospace;font-size:0.65rem;color:rgba(22,199,154,0.2);}
</style>
</head>
<body>
<div class="wrap">
  <nav class="nav">
    <a class="back" href="index.html">‚Üê NEXUS HUB</a>
    <div class="system-title">üõ° SAFEGUARD PRO</div>
    <div class="status-pill"><span class="dot"></span><span id="sys-time">--:--:--</span> ¬∑ ARMED</div>
  </nav>

  <div class="main-grid">
    <!-- Cameras -->
    <div>
      <div style="font-family:'Share Tech Mono',monospace;font-size:0.6rem;letter-spacing:0.2em;color:rgba(22,199,154,0.4);margin-bottom:12px;">// LIVE CAMERA FEEDS ‚Äî 360¬∞ COVERAGE</div>
      <div class="cam-grid">
        <div class="cam-feed active" onclick="selectCam(this,0)">
          <canvas class="cam-canvas" id="cam0"></canvas>
          <div class="scan-line" style="--spd:2.5s"></div>
          <div class="cam-overlay">
            <div class="cam-label">CAM-01 FRONT</div>
            <div class="cam-status-badge ok">‚óè CLEAR</div>
          </div>
        </div>
        <div class="cam-feed" onclick="selectCam(this,1)">
          <canvas class="cam-canvas" id="cam1"></canvas>
          <div class="scan-line" style="--spd:3.2s"></div>
          <div class="cam-overlay">
            <div class="cam-label">CAM-02 REAR</div>
            <div class="cam-status-badge alert" id="cam1-badge">‚ö† MOTION</div>
          </div>
        </div>
        <div class="cam-feed" onclick="selectCam(this,2)">
          <canvas class="cam-canvas" id="cam2"></canvas>
          <div class="scan-line" style="--spd:4s"></div>
          <div class="cam-overlay">
            <div class="cam-label">CAM-03 LEFT</div>
            <div class="cam-status-badge ok">‚óè CLEAR</div>
          </div>
        </div>
        <div class="cam-feed" onclick="selectCam(this,3)">
          <canvas class="cam-canvas" id="cam3"></canvas>
          <div class="scan-line" style="--spd:2.8s"></div>
          <div class="cam-overlay">
            <div class="cam-label">CAM-04 RIGHT</div>
            <div class="cam-status-badge ok">‚óè CLEAR</div>
          </div>
        </div>
      </div>

      <!-- PA -->
      <div style="margin-top:14px;">
        <div style="font-family:'Share Tech Mono',monospace;font-size:0.6rem;letter-spacing:0.2em;color:rgba(22,199,154,0.4);margin-bottom:10px;">// PA COMMUNICATION SYSTEM</div>
        <div class="pa-section">
          <input class="pa-input" id="paMsg" type="text" placeholder="Type PA announcement...">
          <button class="pa-btn" onclick="broadcastPA()">‚ñ∂ BROADCAST</button>
          <button class="pa-btn" onclick="playAlert()" style="border-color:var(--yellow);color:var(--yellow);">‚ö† ALERT</button>
        </div>
        <div id="pa-status" style="font-family:'Share Tech Mono',monospace;font-size:0.65rem;color:rgba(22,199,154,0.4);margin-top:6px;height:16px;"></div>
      </div>
    </div>

    <!-- Side Panel -->
    <div class="side-panel">
      <!-- Threat -->
      <div class="panel-card">
        <div class="panel-label">// THREAT ASSESSMENT</div>
        <div class="threat-row">
          <div>
            <div class="threat-level low" id="threat-text">LOW</div>
            <div class="threat-label">CURRENT RISK LEVEL</div>
          </div>
          <div class="threat-bars" id="threat-bars"></div>
        </div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:0.65rem;color:rgba(160,216,240,0.5);line-height:1.7;" id="threat-desc">
          AI analysis nominal. No persons detected in immediate perimeter. Ambient conditions: clear.
        </div>
      </div>

      <!-- Zone Map -->
      <div class="panel-card">
        <div class="panel-label">// PERIMETER ZONE MAP</div>
        <div class="zone-map" id="zoneMap">
          <div class="zone-map-inner">
            <div class="vehicle-icon">üöó</div>
          </div>
        </div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:0.6rem;color:rgba(22,199,154,0.4);text-align:center;">
          ZONE RADIUS: 15m ¬∑ 4 SECTORS ACTIVE
        </div>
      </div>

      <!-- Controls -->
      <div class="panel-card">
        <div class="panel-label">// SYSTEM CONTROLS</div>
        <div class="ctrl-grid">
          <div class="ctrl-btn active" id="btn-arm" onclick="toggleArm()">üîí ARMED</div>
          <div class="ctrl-btn" onclick="toggleLumilor()">üí° LUMILOR</div>
          <div class="ctrl-btn" onclick="triggerSiren()">üì¢ SIREN</div>
          <div class="ctrl-btn" onclick="ptzSweep()">üéØ PTZ SWEEP</div>
          <div class="ctrl-btn" onclick="nightMode()">üåô NIGHT MODE</div>
          <div class="ctrl-btn red" onclick="emergencyAlert()">üö® EMERGENCY</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Log -->
  <div class="log-section" id="diagnostics">
    <div class="panel-label">// SECURITY EVENT LOG</div>
    <div class="log-stream" id="logStream"></div>
  </div>

  <footer>NEXUS SAFEGUARD PRO ¬∑ INTEGRATED INTELLIGENCE SOLUTIONS ¬∑ CANYON (KANEON)</footer>
</div>

<script>
// Clock
setInterval(()=>document.getElementById('sys-time').textContent=new Date().toTimeString().slice(0,8),1000);

// Camera simulation
const camColors=[['#0d2a20','#16c79a'],['#1a1208','#f0c060'],['#0a1520','#11698e'],['#1a0d20','#7c5cbf']];
const camIds=['cam0','cam1','cam2','cam3'];

function drawCam(id, idx, hasMotion){
  const canvas=document.getElementById(id);
  const w=canvas.offsetWidth||320, h=canvas.offsetHeight||180;
  canvas.width=w; canvas.height=h;
  const ctx=canvas.getContext('2d');
  const [bg,fg]=camColors[idx];

  // Background
  ctx.fillStyle=bg; ctx.fillRect(0,0,w,h);

  // Grid
  ctx.strokeStyle=`${fg}15`; ctx.lineWidth=1;
  for(let x=0;x<w;x+=30){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,h);ctx.stroke();}
  for(let y=0;y<h;y+=30){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(w,y);ctx.stroke();}

  // Horizon
  ctx.fillStyle=`${fg}08`; ctx.fillRect(0,h*0.45,w,h*0.55);

  // Ground plane perspective lines
  ctx.strokeStyle=`${fg}20`; ctx.lineWidth=1;
  for(let i=-3;i<=3;i++){
    ctx.beginPath(); ctx.moveTo(w/2+i*60,h*0.45); ctx.lineTo(w/2+i*200,h);
    ctx.stroke();
  }
  for(let i=0;i<=5;i++){
    const y=h*0.45+i*(h*0.55/5);
    ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(w,y); ctx.stroke();
  }

  // Motion detection box
  if(hasMotion){
    const bx=w*0.3, by=h*0.2, bw=w*0.22, bh=h*0.45;
    ctx.strokeStyle='rgba(255,64,96,0.8)'; ctx.lineWidth=2;
    ctx.strokeRect(bx,by,bw,bh);
    // corner marks
    [[bx,by],[bx+bw,by],[bx,by+bh],[bx+bw,by+bh]].forEach(([x,y])=>{
      ctx.strokeStyle='rgba(255,64,96,1)'; ctx.lineWidth=3;
      ctx.strokeRect(x-4,y-4,8,8);
    });
    ctx.fillStyle='rgba(255,64,96,0.9)';
    ctx.font=`bold 9px monospace`; ctx.fillText('PERSON DETECTED',bx,by-6);
    ctx.font=`8px monospace`; ctx.fillStyle='rgba(255,200,0,0.8)';
    ctx.fillText('THREAT: ASSESSING',bx,by+bh+12);
  }

  // Crosshair center
  ctx.strokeStyle=`${fg}30`; ctx.lineWidth=1;
  ctx.beginPath(); ctx.moveTo(w/2-15,h/2); ctx.lineTo(w/2+15,h/2); ctx.stroke();
  ctx.beginPath(); ctx.moveTo(w/2,h/2-15); ctx.lineTo(w/2,h/2+15); ctx.stroke();
  ctx.beginPath(); ctx.arc(w/2,h/2,20,0,Math.PI*2);
  ctx.strokeStyle=`${fg}20`; ctx.stroke();

  // Timestamp
  ctx.fillStyle=`${fg}60`; ctx.font='8px monospace';
  ctx.fillText(new Date().toISOString().slice(11,19),6,h-8);
}

function renderCams(){
  camIds.forEach((id,i)=>drawCam(id,i,i===1));
}
renderCams();
setInterval(renderCams,1500);

// Zone dots
function buildZone(){
  const map=document.getElementById('zoneMap');
  const positions=[
    {top:'15%',left:'50%',alert:false},{top:'85%',left:'50%',alert:true},
    {top:'50%',left:'12%',alert:false},{top:'50%',left:'88%',alert:false}
  ];
  positions.forEach(p=>{
    const dot=document.createElement('div');
    dot.className=`zone-dot ${p.alert?'alert':'clear'}`;
    dot.style.top=p.top; dot.style.left=p.left;
    map.appendChild(dot);
  });
}
buildZone();

// Threat bars
function setThreat(level){
  const bars=document.getElementById('threat-bars');
  bars.innerHTML='';
  const colors={low:['g','g'],med:['g','g','g','y','y'],high:['g','g','g','g','r','r','r']};
  const labels={low:'LOW',med:'MEDIUM',high:'HIGH'};
  const descs={
    low:'AI analysis nominal. No persons detected in immediate perimeter.',
    med:'Motion detected in rear zone. AI tracking subject. Logging.',
    high:'ALERT: Proximity breach detected. Initiating alert protocol.'
  };
  const el=document.getElementById('threat-text');
  el.textContent=labels[level]; el.className=`threat-level ${level}`;
  document.getElementById('threat-desc').textContent=descs[level];
  const total=7;
  const lit=(colors[level]||[]).length;
  for(let i=0;i<total;i++){
    const b=document.createElement('div');
    b.className=`tbar${i<lit?' lit '+(colors[level][i]||'g'):''}`;
    bars.appendChild(b);
  }
}
setThreat('med');

// Log
const logs=[
  {cls:'ok',msg:'System armed. All sensors nominal.'},
  {cls:'ok',msg:'Camera array initialized. 4/4 online.'},
  {cls:'ok',msg:'AI threat model loaded. OpenCV v4.8.'},
  {cls:'warn',msg:'CAM-02: Motion detected. Zone: REAR.'},
  {cls:'warn',msg:'AI tracking: subject classification in progress.'},
  {cls:'ok',msg:'Lumilor status display: SECURITY_ACTIVE.'},
  {cls:'ok',msg:'Solar charge: 87%. All systems nominal.'},
  {cls:'ok',msg:'Community network: 3 nodes connected.'},
];
function addLog(msg,cls='ok'){
  const stream=document.getElementById('logStream');
  const ts=new Date().toTimeString().slice(0,8);
  const div=document.createElement('div');
  div.className=`log-entry log-${cls}`;
  div.innerHTML=`<span class="log-ts">[${ts}]</span>${msg}`;
  stream.prepend(div);
}
logs.forEach(l=>addLog(l.msg,l.cls));

// Controls
let armed=true;
function toggleArm(){
  armed=!armed;
  const btn=document.getElementById('btn-arm');
  btn.textContent=armed?'üîí ARMED':'üîì DISARMED';
  btn.classList.toggle('active',armed);
  addLog(armed?'System armed. Perimeter active.':'System disarmed by user.', armed?'ok':'warn');
}
function toggleLumilor(){ addLog('Lumilor paint status cycle: EMOTIONAL_BLUE ‚Üí SECURITY_CYAN','ok'); }
function triggerSiren(){ addLog('Siren activated. Duration: 5 seconds.','warn'); }
function ptzSweep(){ addLog('PTZ 360¬∞ sweep initiated. 20x zoom. Scanning...','ok'); }
function nightMode(){ addLog('Night mode enabled. IR illumination ON. Gain +6dB.','ok'); }
function emergencyAlert(){ setThreat('high'); addLog('‚ö† EMERGENCY PROTOCOL ACTIVATED. Contacting network.','alert'); }

function broadcastPA(){
  const msg=document.getElementById('paMsg').value.trim();
  if(!msg) return;
  document.getElementById('pa-status').textContent='‚ñ∂ BROADCASTING: '+msg;
  addLog(`PA broadcast: "${msg}"`, 'ok');
  setTimeout(()=>document.getElementById('pa-status').textContent='',3000);
  document.getElementById('paMsg').value='';
}
function playAlert(){
  document.getElementById('pa-status').textContent='‚ö† ALERT TONE BROADCASTING...';
  addLog('PA alert tone activated. All zones.','warn');
  setTimeout(()=>document.getElementById('pa-status').textContent='',2500);
}

function selectCam(el,idx){
  document.querySelectorAll('.cam-feed').forEach(f=>f.classList.remove('active'));
  el.classList.add('active');
}
</script>
</body>
</html>